<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1,
width=device-width, height=device-height" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/images/sc_icons/icon-128x128.png">
  <link rel="icon" type="image/png" href="./assets/images/sc_icons/icon-128x128.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    BAYAN 911
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <!-- CSS Files -->
  <link href="./assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="./assets/css/now-ui-kit.css?v=1.3.0" rel="stylesheet" />
  <!-- TODO add manifest here -->
	<link rel="manifest" href="./manifest.json">
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <!-- <link href="./assets/demo/demo.css" rel="stylesheet" /> -->
</head>

<body class="login-page sidebar-collapse">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-primary fixed-top navbar-transparent">
  </nav>
  <!-- End Navbar -->
  <div class="page-header clear-filter" filter-color="red" id="deviceready">
    <div class="page-header-image" style="background:url(./assets/images/rd1.jpg)no-repeat 0px 0px;background-size:cover;background-attachment:fixed;"></div>
    <div class="content" style="margin-top:25%;">
      <div class="container">
        <div class="col-md-4 ml-auto mr-auto">
          <div class="card card-login card-plain">
            <!-- <form class="form" method="" action="" id="form"> -->
              <div class="card-header text-center" style="padding-top:5%;">
                <div class="logo-container" style="margin-bottom:15px;">
                  <img src="./assets/images/sc_icons/bayan.png" alt="">
                </div>
                <p>BAYAN 911</p>
              </div>
              <div class="card-body" style="padding:0;">
                <div class="input-group no-border input-lg">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="padding-right: 15px;">
                      <i class="now-ui-icons users_circle-08"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" placeholder="Username" id="username"/>
                </div>
                <div class="input-group no-border input-lg">
                  <div class="input-group-prepend">
                    <span class="input-group-text" style="padding-right: 15px;">
                      <i class="now-ui-icons objects_key-25"></i>
                    </span>
                  </div>
                  <input type="password" placeholder="Password" class="form-control" />
                </div>
              </div>
              <div class="card-footer text-center">
                <button id="login" class="btn btn-danger btn-round btn-lg btn-block">LOGIN</button>
              </div>
            <!-- </form> -->
              <div style="margin-top:50px;">
                <h6>
                    <a href="./signup.html" class="link">CREATE ACCOUNT</a>
                </h6>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL ADD -->
  <div class="modal fade modal-mini" id="minifide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-modal="true" style="display: none; padding-right: 17px;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header justify-content-center">
          <div class="modal-profile">
            <i class="now-ui-icons ui-1_simple-remove"></i>
          </div>
        </div>
        <div class="modal-body">
            <p>No Internet Connection.</p>
            <p>Please try again.</p>
        </div>
        <div class="card-footer text-center">
          <button type="button" class="btn btn-info" data-dismiss="modal"  id="moddismiss">Ok</button>
        </div>
      </div>
    </div>
  </div>

 <!-- MODAL ADD -->
 <div class="modal fade modal-mini" id="offline" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-modal="true" style="display: none; padding-right: 17px;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header justify-content-center">
          <div class="modal-profile">
              <i id="loader_icon" class="now-ui-icons loader_refresh spin"></i>
          </div>
        </div>
        <div class="modal-body justify-content-center">
            <h6 id="loader_txt" style="text-align:center;text-transform:none;">No Internet Connection</h6>
            <p style="font-size:15px;">Trying to reconnect to the internet....</p>
        </div>
      </div>
    </div>
  </div>
<!-- END MODAL -->

  <!--   Core JS Files   -->
  <script src="./assets/js/core/jquery.min.js" type="text/javascript"></script>
  <!-- <script src="./assets/js/core/popper.min.js" type="text/javascript"></script> -->
  <script src="./assets/js/core/bootstrap.min.js" type="text/javascript"></script>
  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="./assets/js/plugins/bootstrap-switch.js"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="./assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
  <script src="./assets/js/plugins/bootstrap-datepicker.js" type="text/javascript"></script>

  <!--  CHECKING INTERNET CONNECTION   -->
  <script src="./assets/js/network.js" type="text/javascript"></script>

  <!-- Control Center for Now Ui Kit: parallax effects, scripts for the example pages etc -->
  <script src="./assets/js/now-ui-kit.js?v=1.3.0" type="text/javascript"></script>
  <script type="text/javascript" src="cordova.js"></script>
  <script type="text/javascript" src="./assets/js/index.js"></script>
  <script type="text/javascript">
      app.initialize();
  </script>
</body>
<script>
  $('#login').on('click', function(){
    var user = $('#username').val();
    console.log(user);
    $.ajax({
      type: "GET",
      url: "https://jsonplaceholder.typicode.com/albums",
      success: function(){
        if (user === 'user'){
          window.location = './pages/user/homepage.html';
        }else if (user === 'responder'){
          window.location = './pages/responder/responder.html';
        }else{
          window.location = './index.html';
        }
      },
      error: function() {
          $('#minifide').addClass('show');
          document.getElementById('minifide').style.display = 'block';
      }
    });
  });

  $('#moddismiss').on('click', function(){
    $('#minifide').removeClass('show');
    document.getElementById('minifide').style.display = 'none';
  })

  //back pressed
  document.addEventListener("backbutton", onBackKeyDown, false);

  function onBackKeyDown() {
        //window.location = '../../index.html';
        showAlert();
  }

  // alert dialog dismissed
  function alertDismissed() {
    navigator.app.exitApp();
  }

  // Show a custom alert
  function showAlert() {
      navigator.notification.alert(
          'Please confirm to close application.',  // message
          alertDismissed,         // callback
          'Exit?',            // title
          'Confirm'                  // buttonName
      );
  }

</script>
</html>